<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Python Binding Autoregistration &mdash; ecto</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="ecto" href="../../../index.html" />
    <link rel="up" title="Usage" href="../index.html" />
    <link rel="next" title="Builtin Ecto Cells" href="ecto_cells.html" />
    <link rel="prev" title="Using python packages with ecto projects" href="python-packages.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ecto_cells.html" title="Builtin Ecto Cells"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="python-packages.html" title="Using python packages with ecto projects"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">ecto</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Usage</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/ecto210.png" alt="Logo"/>
            </a></p>
  <h4>Previous topic</h4>
  <p class="topless"><a href="python-packages.html"
                        title="previous chapter">Using python packages with ecto projects</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="ecto_cells.html"
                        title="next chapter">Builtin Ecto Cells</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/ecto/usage/techniques/autoregister.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="python-binding-autoregistration">
<h1>Python Binding Autoregistration<a class="headerlink" href="#python-binding-autoregistration" title="Permalink to this headline">¶</a></h1>
<p>You may autoregister python bindings for modules.  This makes it
possible to store each cell&#8217;s definition in a different translation
unit, reducing recompile times.</p>
<dl class="macro">
<dt id="c.ECTO_CELL">
<tt class="descname">ECTO_CELL</tt><big>(</big>pymodule_name, cell_type_name, &quot;CellTypeName&quot;, &quot;Cell<em>&nbsp;Docstring&quot;</em><big>)</big><a class="headerlink" href="#c.ECTO_CELL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>Mark each ecto cell as such with the <tt class="docutils literal"><span class="pre">ECTO_CELL</span></tt> macro</p>
<div class="highlight-c++"><div class="highlight"><pre><span class="k">struct</span> <span class="n">Add</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">process</span><span class="p">(</span><span class="k">const</span> <span class="n">ecto</span><span class="o">::</span><span class="n">tendrils</span><span class="o">&amp;</span> <span class="n">inputs</span><span class="p">,</span> <span class="p">...)</span>
  <span class="c1">// ...</span>
<span class="p">};</span>

<span class="n">ECTO_CELL</span><span class="p">(</span><span class="n">ecto_test</span><span class="p">,</span> <span class="n">Add</span><span class="p">,</span> <span class="s">&quot;Add&quot;</span><span class="p">,</span> <span class="s">&quot;Add two doubles&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Where the arguments are 1. Python module name, but not as a
string, 2. Type of cell, 3.  string name of cell, 4. docstring for
cell.</p>
<p>This may be placed in any translation unit within the shared library,
e.g. in a file Add.cpp that contains the code above.</p>
<span class="target" id="ecto-define-module"></span><dl class="macro">
<dt id="c.ECTO_DEFINE_MODULE">
<tt class="descname">ECTO_DEFINE_MODULE</tt><big>(</big>pymodule_name<big>)</big><a class="headerlink" href="#c.ECTO_DEFINE_MODULE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<p>In a single place inside the shared library (e.g. <tt class="docutils literal"><span class="pre">myecto_module.cpp</span></tt>), call
<tt class="docutils literal"><span class="pre">ECTO_DEFINE_MODULE</span></tt></p>
<div class="highlight-c++"><div class="highlight"><pre><span class="cp">#include &lt;ecto/ecto.hpp&gt;</span>

<span class="n">ECTO_DEFINE_MODULE</span><span class="p">(</span><span class="n">ecto_test</span><span class="p">)</span>
<span class="p">{</span>
  <span class="c1">// additional boost::python or ecto bindings go here</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For instance, if cells in the ecto module contain parameters that are
enumerations, you may want to wrap the enumerations here so that
parameter values passed from the script have readable symbolic names.</p>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="ecto_cells.html" title="Builtin Ecto Cells"
             >next</a> |</li>
        <li class="right" >
          <a href="python-packages.html" title="Using python packages with ecto projects"
             >previous</a> |</li>
        <li><a href="../../../index.html">ecto</a> &raquo;</li>
          <li><a href="../index.html" >Usage</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011,  Willow Garage, Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>