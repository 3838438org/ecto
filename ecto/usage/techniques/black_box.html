<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>BlackBox &mdash; ecto</title>
    
    <link rel="stylesheet" href="../../../_static/sphinxdoc.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/breathe.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <link rel="top" title="ecto" href="../../../index.html" />
    <link rel="up" title="Usage" href="../index.html" />
    <link rel="next" title="Tendril Connections" href="../tips/connections.html" />
    <link rel="prev" title="Builtin Ecto Cells" href="ecto_cells.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tips/connections.html" title="Tendril Connections"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ecto_cells.html" title="Builtin Ecto Cells"
             accesskey="P">previous</a> |</li>
        <li><a href="../../../index.html">ecto</a> &raquo;</li>
          <li><a href="../index.html" accesskey="U">Usage</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../../index.html">
              <img class="logo" src="../../../_static/ecto210.png" alt="Logo"/>
            </a></p>
  <h3><a href="../../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">BlackBox</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
<li><a class="reference internal" href="#python-definition">Python definition</a></li>
<li><a class="reference internal" href="#more-examples">More Examples</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ecto_cells.html"
                        title="previous chapter">Builtin Ecto Cells</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../tips/connections.html"
                        title="next chapter">Tendril Connections</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../../../_sources/ecto/usage/techniques/black_box.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="blackbox">
<span id="black-box"></span><h1>BlackBox<a class="headerlink" href="#blackbox" title="Permalink to this headline">¶</a></h1>
<p>The <tt class="docutils literal"><span class="pre">BlackBox</span></tt> is an encapsulation method for ecto graphs: it behaves like a meta-cell.</p>
<div class="section" id="example">
<h2>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s take the plasm from <a class="reference internal" href="../tutorials/plasms.html#tutorial-hello-plasms"><em>Hello Plasms!</em></a> but let&#8217;s assume that we want to
encapsulate it so that it looks like a cell to a user. Let&#8217;s use a <tt class="docutils literal"><span class="pre">BlackBox</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="c">#!/usr/bin/env python</span>
<span class="kn">import</span> <span class="nn">ecto</span>
<span class="kn">from</span> <span class="nn">ecto.tutorial</span> <span class="kn">import</span> <span class="n">Increment</span><span class="p">,</span> <span class="n">Add</span>
<span class="kn">from</span> <span class="nn">ecto</span> <span class="kn">import</span> <span class="n">BlackBoxCellInfo</span> <span class="k">as</span> <span class="n">CellInfo</span><span class="p">,</span> <span class="n">BlackBoxForward</span> <span class="k">as</span> <span class="n">Forward</span>

<span class="k">class</span> <span class="nc">MyBlackBox</span><span class="p">(</span><span class="n">ecto</span><span class="o">.</span><span class="n">BlackBox</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    We encapsulate the plasm from the hello_tutorial by exposing the</span>
<span class="sd">    start value of &#39;i2&#39; as a parameter to the BlackBox and forwarding</span>
<span class="sd">    the output of the &#39;add&#39; cell</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">declare_cells</span><span class="p">(</span><span class="n">_p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the virtual function from the base class</span>
<span class="sd">        Only cells from which something is forwarded have to be declared</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cells</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c"># &#39;i2&#39; has its start value exposed to the user so only a type is given</span>
        <span class="n">cells</span><span class="p">[</span><span class="s">&#39;i2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CellInfo</span><span class="p">(</span><span class="n">Increment</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Inc 2&#39;</span><span class="p">)</span>
        <span class="c"># &#39;add&#39; is always the same so we could define with a CellInfo(Add, name=&#39;Add&#39;) or</span>
        <span class="c"># just with an instance</span>
        <span class="n">cells</span><span class="p">[</span><span class="s">&#39;add&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Add</span><span class="p">(</span><span class="s">&#39;Add&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cells</span>

    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">declare_forwards</span><span class="p">(</span><span class="n">_p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the virtual function from the base class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># we forward the start parameter of the cells &#39;i2&#39; but the user will</span>
        <span class="c"># see it as &#39;start2&#39;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;i2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Forward</span><span class="p">(</span><span class="s">&#39;start&#39;</span><span class="p">,</span><span class="n">new_key</span><span class="o">=</span><span class="s">&#39;start2&#39;</span><span class="p">,</span><span class="n">new_default</span><span class="o">=</span><span class="mi">20</span><span class="p">)]}</span>

        <span class="c"># there are no inputs to expose to the user</span>
        <span class="n">i</span><span class="o">=</span><span class="p">{}</span>

        <span class="c"># we forward all the outputs from add to the user</span>
        <span class="n">o</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;add&#39;</span><span class="p">:</span> <span class="s">&#39;all&#39;</span><span class="p">}</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_p</span><span class="p">,</span><span class="n">_i</span><span class="p">,</span><span class="n">_o</span><span class="p">):</span>
        <span class="c"># implicitly, &#39;add&#39; and &#39;i2&#39; will be created as they have been declared</span>
        <span class="c"># only &#39;i1&#39; needs to be defined</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">Increment</span><span class="p">(</span><span class="s">&#39;Inc 1&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">connections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_p</span><span class="p">):</span>
        <span class="c"># define the connections like you would for the plasm</span>
        <span class="k">return</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">[</span><span class="s">&#39;output&#39;</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">],</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">[</span><span class="s">&#39;output&#39;</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="p">]</span>

<span class="c"># create an instance of my BlackBox</span>
<span class="n">my_blackbox</span> <span class="o">=</span> <span class="n">MyBlackBox</span><span class="p">(</span><span class="n">start2</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
<span class="c"># create a plasm that only contains the BlackBox</span>
<span class="n">plasm</span> <span class="o">=</span> <span class="n">ecto</span><span class="o">.</span><span class="n">Plasm</span><span class="p">()</span>
<span class="n">plasm</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">my_blackbox</span><span class="p">)</span>
<span class="c"># execute the plasm</span>
<span class="n">plasm</span><span class="o">.</span><span class="n">execute</span><span class="p">(</span><span class="n">niter</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>

<span class="c"># display the output name &#39;output&#39; in the outputs of cell &#39;add&#39;</span>
<span class="k">print</span> <span class="n">my_blackbox</span><span class="o">.</span><span class="n">outputs</span><span class="o">.</span><span class="n">output</span>
</pre></div>
</div>
<p>Now, let&#8217;s go over the example. We first create a class to encapsulate the plasm.</p>
<div class="highlight-py"><div class="highlight"><pre><span class="k">class</span> <span class="nc">MyBlackBox</span><span class="p">(</span><span class="n">ecto</span><span class="o">.</span><span class="n">BlackBox</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    We encapsulate the plasm from the hello_tutorial by exposing the</span>
<span class="sd">    start value of &#39;i2&#39; as a parameter to the BlackBox and forwarding</span>
<span class="sd">    the output of the &#39;add&#39; cell</span>
<span class="sd">    &quot;&quot;&quot;</span>
</pre></div>
</div>
<p>We know we will forward the parameters of <tt class="docutils literal"><span class="pre">i2</span></tt> to the user and the output of <tt class="docutils literal"><span class="pre">add</span></tt>.
To have <tt class="docutils literal"><span class="pre">declare_io</span></tt> and <tt class="docutils literal"><span class="pre">declare_params</span></tt> work statically, we need to define those cells
in <tt class="docutils literal"><span class="pre">declare_cells</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">declare_cells</span><span class="p">(</span><span class="n">_p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the virtual function from the base class</span>
<span class="sd">        Only cells from which something is forwarded have to be declared</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">cells</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="c"># &#39;i2&#39; has its start value exposed to the user so only a type is given</span>
        <span class="n">cells</span><span class="p">[</span><span class="s">&#39;i2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">CellInfo</span><span class="p">(</span><span class="n">Increment</span><span class="p">,</span> <span class="n">name</span><span class="o">=</span><span class="s">&#39;Inc 2&#39;</span><span class="p">)</span>
        <span class="c"># &#39;add&#39; is always the same so we could define with a CellInfo(Add, name=&#39;Add&#39;) or</span>
        <span class="c"># just with an instance</span>
        <span class="n">cells</span><span class="p">[</span><span class="s">&#39;add&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">Add</span><span class="p">(</span><span class="s">&#39;Add&#39;</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">cells</span>
</pre></div>
</div>
<p>We also need to define the different forwards</p>
<div class="highlight-py"><div class="highlight"><pre>    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">declare_forwards</span><span class="p">(</span><span class="n">_p</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Implement the virtual function from the base class</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="c"># we forward the start parameter of the cells &#39;i2&#39; but the user will</span>
        <span class="c"># see it as &#39;start2&#39;</span>
        <span class="n">p</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;i2&#39;</span><span class="p">:</span> <span class="p">[</span><span class="n">Forward</span><span class="p">(</span><span class="s">&#39;start&#39;</span><span class="p">,</span><span class="n">new_key</span><span class="o">=</span><span class="s">&#39;start2&#39;</span><span class="p">,</span><span class="n">new_default</span><span class="o">=</span><span class="mi">20</span><span class="p">)]}</span>

        <span class="c"># there are no inputs to expose to the user</span>
        <span class="n">i</span><span class="o">=</span><span class="p">{}</span>

        <span class="c"># we forward all the outputs from add to the user</span>
        <span class="n">o</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;add&#39;</span><span class="p">:</span> <span class="s">&#39;all&#39;</span><span class="p">}</span>

        <span class="k">return</span> <span class="p">(</span><span class="n">p</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">o</span><span class="p">)</span>
</pre></div>
</div>
<p>We also need to define the cells like we would in C++ in <tt class="docutils literal"><span class="pre">configure</span></tt> except some are
already known as they were defined in <tt class="docutils literal"><span class="pre">declare_cells</span></tt>.</p>
<div class="highlight-py"><div class="highlight"><pre>    <span class="k">def</span> <span class="nf">configure</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_p</span><span class="p">,</span><span class="n">_i</span><span class="p">,</span><span class="n">_o</span><span class="p">):</span>
        <span class="c"># implicitly, &#39;add&#39; and &#39;i2&#39; will be created as they have been declared</span>
        <span class="c"># only &#39;i1&#39; needs to be defined</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i1</span> <span class="o">=</span> <span class="n">Increment</span><span class="p">(</span><span class="s">&#39;Inc 1&#39;</span><span class="p">,</span> <span class="n">start</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span>
</pre></div>
</div>
<p>Finally, we need to define the connections like we would in the plasm:</p>
<div class="highlight-py"><div class="highlight"><pre>    <span class="k">def</span> <span class="nf">connections</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">_p</span><span class="p">):</span>
        <span class="c"># define the connections like you would for the plasm</span>
        <span class="k">return</span> <span class="p">[</span> <span class="bp">self</span><span class="o">.</span><span class="n">i1</span><span class="p">[</span><span class="s">&#39;output&#39;</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s">&#39;a&#39;</span><span class="p">],</span>
                 <span class="bp">self</span><span class="o">.</span><span class="n">i2</span><span class="p">[</span><span class="s">&#39;output&#39;</span><span class="p">]</span> <span class="o">&gt;&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">add</span><span class="p">[</span><span class="s">&#39;b&#39;</span><span class="p">]</span> <span class="p">]</span>
</pre></div>
</div>
<p>If we execute that <tt class="docutils literal"><span class="pre">BlackBox</span></tt>, we get the same as when running the plasm:</p>
<div class="highlight-text"><div class="highlight"><pre>42
</pre></div>
</div>
</div>
<div class="section" id="python-definition">
<h2>Python definition<a class="headerlink" href="#python-definition" title="Permalink to this headline">¶</a></h2>
<p>Here is the full Python definition and what members you are supposed to override.</p>
<dl class="class">
<dt id="ecto.BlackBox">
<em class="property">class </em><tt class="descclassname">ecto.</tt><tt class="descname">BlackBox</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ecto.BlackBox" title="Permalink to this definition">¶</a></dt>
<dd><p>The BlackBox may be used as an encapsulation idiom within ecto, to declare reusable plasms.</p>
<p>A BlackBox is a meta-cell. 3 functions need to be implemented when inheriting.
<em>declare_fowards</em>: defines the inputs/outputs/parameters that are forwarded to the inner cells.
<em>declare_cells</em>: declare_io and declare_params should not be overriden but in order to have them work 
statically, information about the inner cells have to be given in <em>declare_cells</em>.
<em>declare_direct_params</em>: a BlackBox can have its own parameters and this is where they are declared</p>
<dl class="method">
<dt id="ecto.BlackBox.cell">
<tt class="descname">cell</tt><big>(</big><big>)</big><a class="headerlink" href="#ecto.BlackBox.cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an instance of the cell that backs this
BlackBox. Useful for ecto.If, or other places that expect a
cell</p>
</dd></dl>

<dl class="method">
<dt id="ecto.BlackBox.configure">
<tt class="descname">configure</tt><big>(</big><em>p</em>, <em>i</em>, <em>o</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.configure" title="Permalink to this definition">¶</a></dt>
<dd><p>This function has the same meaning as in C++ and can be overriden by a child class.</p>
<p>This function should be used to allocate all cells internal to a BlackBox</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p</strong> &#8211; an ecto.Tendrils object for the parameters</li>
<li><strong>i</strong> &#8211; an ecto.Tendrils object for the inputs</li>
<li><strong>o</strong> &#8211; an ecto.Tendrils object for the outputs</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="ecto.BlackBox.connections">
<tt class="descname">connections</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.connections" title="Permalink to this definition">¶</a></dt>
<dd><p>This function has to be overriden by a child class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> &#8211; an already filled ecto.Tendrils for the parameters that can be used
to decide on certain connections</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">an iterable of tendril connections.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ecto.BlackBox.declare_cells">
<em class="property">classmethod </em><tt class="descname">declare_cells</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.declare_cells" title="Permalink to this definition">¶</a></dt>
<dd><p>This function can be overriden by a child class.</p>
<p>Given some parameters, define the characteristics of the cells.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> &#8211; an ecto.Tendrils() object</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a dictionary of the form:
{&#8216;cell_name&#8217;: BlackBoxCellInfo_call, &#8216;cell_name&#8217;: cell_instance}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="ecto.BlackBox.declare_direct_params">
<em class="property">static </em><tt class="descname">declare_direct_params</tt><big>(</big><em>p</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.declare_direct_params" title="Permalink to this definition">¶</a></dt>
<dd><p>This function can be overriden by a child class.</p>
<p>This function declares normal parameters for the BlackBox, i.e. you need to declare them
using p.declare(&#8216;key_name&#8217;, &#8216;key_docs&#8217;, default_value) like you would in a normal
Python cell.</p>
<p>If you want to have your cell expose different parameters according to different
parameters sent to the constructor of the BlackBox, you can make this function
non-static. declare_params and declare_io (that are static) might then fail if called
statically but they are not used to build a BlackBox.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>p</strong> &#8211; an ecto.Tendrils() object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ecto.BlackBox.declare_forwards">
<em class="property">classmethod </em><tt class="descname">declare_forwards</tt><big>(</big><em>_p</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.declare_forwards" title="Permalink to this definition">¶</a></dt>
<dd><p>This function can be overriden by a child class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>_p</strong> &#8211; an ecto.Tendrils object from which some logic can be done to know what to forward.
This function will be called after declare_direct_params which fills &#8216;p&#8217; with BlackBox
specific parameters (non-forwarded)</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a tuple of three dictionaries definining the params/input/output
forwarded to/from the inner cells. It has the format:
{&#8216;cell_name&#8217;: &#8216;all&#8217;, &#8216;cell_name&#8217;: [BlackBoxForward_call1, BlackBoxForward_call2]}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ecto.BlackBox.declare_io">
<em class="property">classmethod </em><tt class="descname">declare_io</tt><big>(</big><em>p</em>, <em>i</em>, <em>o</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.declare_io" title="Permalink to this definition">¶</a></dt>
<dd><p>This function has the same meaning as in C++ and should NOT be overriden by a child class.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p</strong> &#8211; an ecto.Tendrils object for the parameters</li>
<li><strong>i</strong> &#8211; an ecto.Tendrils object for the inputs</li>
<li><strong>o</strong> &#8211; an ecto.Tendrils object for the outputs</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ecto.BlackBox.declare_params">
<em class="property">classmethod </em><tt class="descname">declare_params</tt><big>(</big><em>p</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.declare_params" title="Permalink to this definition">¶</a></dt>
<dd><p>This method should NOT be overridden by a child class.</p>
<p>This function returns the parameter tendrils but as there are two kinds
(namely the BlackBox ones defined in &#8220;declare_direct_params&#8221; and the
forwarded parameters), there are two levels of parameters. If you
just call the function with no kwargs, you get the default parametes. But
if you know the parameters you will send to your BlackBox constructor, 
call declare_params with it and you will have a &#8220;runtime estimate&#8221; of your
parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>p</strong> &#8211; an ecto.Tendrils() object</li>
<li><strong>kwargs</strong> &#8211; anything sent to the constructor of the BlackBox</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="ecto.BlackBox.inspect">
<em class="property">classmethod </em><tt class="descname">inspect</tt><big>(</big><em>*args</em>, <em>**kwargs</em><big>)</big><a class="headerlink" href="#ecto.BlackBox.inspect" title="Permalink to this definition">¶</a></dt>
<dd><p>This emulates the inspect method that each ecto cell has, which creates a light
version of the cell, where the default values for p,i,o are acceptable.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="more-examples">
<h2>More Examples<a class="headerlink" href="#more-examples" title="Permalink to this headline">¶</a></h2>
<p>Here are a few more examples from the official ecto tests in <em>test/scripts/test_blackbox</em>:</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="../tips/connections.html" title="Tendril Connections"
             >next</a> |</li>
        <li class="right" >
          <a href="ecto_cells.html" title="Builtin Ecto Cells"
             >previous</a> |</li>
        <li><a href="../../../index.html">ecto</a> &raquo;</li>
          <li><a href="../index.html" >Usage</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2011,  Willow Garage, Inc.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>